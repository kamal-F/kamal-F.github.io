<!DOCTYPE html>
<html>
<body>
<p id="demo1"></p>
<p id="demo2"></p>
<script async type="module" src="j.js"></script>

<h1>Latihan ws</h1>
<h1>Product List</h1>
<ul id="productList"></ul>

<script>
    async function fetchProducts() {
        try {
            const response = await fetch('https://130.162.195.228/rongsok/products', {
                method: 'GET',
                headers: {
                    'Content-Type': 'application/json'
                }
            });

            if (!response.ok) {
                throw new Error(`HTTP error! status: ${response.status}`);
            }

            const products = await response.json();
            const productList = document.getElementById('productList');

            products.forEach(product => {
                const listItem = document.createElement('li');
                listItem.textContent = product.name; 
                productList.appendChild(listItem);
            });
        } catch (error) {
            console.error('Error fetching products:', error);
        }
    }

    fetchProducts();
</script>  

<h1>Admin Categories</h1>
<ul id="adminCategories"></ul>

<script>
    async function fetchAdminCategories() {
        try {
            const response = await fetch('https://130.162.195.228/mhs714220005/admin-category', {
                method: 'GET',
                headers: {
                    'Content-Type': 'application/json'
                }
            });

            if (!response.ok) {
                throw new Error(`HTTP error! status: ${response.status}`);
            }

            const categories = await response.json();
            const categoryList = document.getElementById('adminCategories');

            categories.forEach(category => {
                const listItem = document.createElement('li');
                listItem.textContent = `${category.Category} - ${category.Icon}`;
                categoryList.appendChild(listItem);
            });
        } catch (error) {
            console.error('Error fetching admin categories:', error);
        }
    }

    fetchAdminCategories();
</script>

</body>
</html>
